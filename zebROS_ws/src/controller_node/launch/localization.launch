<launch>
	<!-- Transform x y z roll pitch yaw -->
	<node pkg="tf2_ros" type="static_transform_publisher" name="base_link_zed_transform"
    args="0.3429 0.00396875 0.22225 0 -0.610865 0 base_link zed_initial_frame" />
    <node pkg="tf2_ros" type="static_transform_publisher" name="base_link_navx_transform"
    args="0.05476875 0.2444475 0.0777875 0 0 0 base_link navx_initial_frame" />

	<node name="ukf_localization_node" pkg="robot_localization" type="ukf_localization_node">
		<!-- 
			Change the frame parametrs when re-localization
			is implementated
		-->
		<param name="map_frame" value="map"/>
		<param name="odom_frame" value="odom"/>
		<param name="base_link_frame" value="base_link"/>
		<param name="world_frame" value="odom"/>

		<param name="two_d_mode" value="true"/>
		<param name="imu0_remove_gravitational_acceleration" value="false">

		<!-- We really need wheel encoder odometry -->
		<param name="odom0" value="/zed/odom"/>
		<param name="imu0" value="/navx/imu"/>

		<!--
			Sensor Configuration:
			x, y, z
			roll, pitch, yaw
			x-velocity, y-velocity, z-velocity
			roll-velocity, pitch-velocity, yaw-velocity
			x-acceleration, y-acceleration, z-acceleration
		-->
		<!--
			The covariance matricies must be set correctly
			or the state estimation node will be confused as to the correct
			source of information

			
		-->

		<rosparam param="odom0_config"> [true,  true,  true,
										 true,  true,  true,
										 false, false, false,
										 false, false, false,
										 false, false, false]</rosparam>

		<rosparam param="imu0_config"> [false, false, false,
										false, false, false,
										true,  true,  true,
										true,  true,  true,
										true,  true,  true]</rosparam>
	</node>


</launch>
