<launch>
  <!-- 
  Master Node Launcher
  * ZED Wrapper Instance
  * Goal Detection Node
  * NavX Publisher Node
  * Rosbag recording (Optional)
	-->
  <arg name="svo_file" default="" />
  <arg name="zed_id" default="0" />
  <arg name="brightness" default="-1" />
  <arg name="contrast" default="6" />
  <arg name="hue" default="6" />
  <arg name="saturation" default="3" />
  <arg name="gain" default="1" />
  <arg name="exposure" default="5" />
  <arg name="flip" default="false" />
  <arg name="name" default="zed_goal" />
  <arg name="record" default="false" />
  
  <group ns="$(arg name)">
    <include file="$(find zed_wrapper)/launch/zed_camera.launch">
      <arg name="svo_file" value="$(arg svo_file)" />
      <arg name="zed_id" value="$(arg zed_id)" />
      <arg name="zed_name" value="$(arg name)" />
      <arg name="brightness" value="$(arg brightness)" />
      <arg name="contrast" value="$(arg contrast)" />
      <arg name="hue" value="$(arg hue)" />
      <arg name="saturation" value="$(arg saturation)" />
      <arg name="gain" value="$(arg gain)" />
      <arg name="exposure" value="$(arg exposure)" />
      <arg name="flip" value="$(arg flip)" />
    </include>
</group>

  <node name="goal_detection_node" pkg="goal_detection" type="goal_detection_node" respawn="true" />
  <node name="navx_publisher_node" pkg="navx_publisher" type="navx_publisher_node" respawn="true" />
  <node name="zms_writer_node" pkg="zms_writer" type="zms_writer_node" respawn="true" />
  <!-- 
  <include file="$(find controller_node)/launch/record_master.launch" if="$(arg record)"/>
-->
</launch>
